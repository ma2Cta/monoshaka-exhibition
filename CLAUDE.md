# Claude Code 開発ガイドライン

このファイルには、このプロジェクトで Claude Code を使用する際の重要なガイドラインが記載されています。

## データベースマイグレーション

### ローカルDBマイグレーション
- ローカルのデータベースマイグレーションを実行する際は、**必ず** `npm run db:migrate:local` コマンドを使用してください
- `npx supabase db reset` や `npx supabase db push` は直接使用しないでください

### リモートDBマイグレーション
- **開発段階では絶対にリモートDBのマイグレーションを実行しないでください**
- リモートDBへの変更は本番環境に影響するため、慎重に行う必要があります
- リモートDBのマイグレーションは本番デプロイ時のみ実行してください
- `npx supabase db push` コマンドは開発中は使用禁止です

## コマンドリファレンス

### データベース関連
```bash
# ローカルDBのマイグレーション（推奨）
npm run db:migrate:local

# リモートDBのマイグレーション（本番デプロイ時のみ）
# 開発中は実行しないこと！
npm run db:migrate:remote
```

## 注意事項

1. **常に日本語で回答してください**
2. データベースの変更は慎重に行い、必ずローカル環境で十分にテストしてください
3. マイグレーションファイルは `supabase/migrations/` ディレクトリに配置してください
4. マイグレーションファイル名は連番とわかりやすい説明を含めてください（例: `001_initial_schema.sql`）
